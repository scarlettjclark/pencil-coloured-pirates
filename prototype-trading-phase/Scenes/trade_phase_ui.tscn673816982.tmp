[gd_scene load_steps=6 format=3 uid="uid://bwrumuw54jww7"]

[ext_resource type="PackedScene" uid="uid://dswfestiuvokn" path="res://Scenes/trade.tscn" id="1_fkhew"]
[ext_resource type="Script" uid="uid://d2u7x3ah4yfet" path="res://Scripts/trade_phase_ui.gd" id="1_kytco"]
[ext_resource type="Script" uid="uid://cy3xt5ygp7lhq" path="res://Scripts/goods_counters.gd" id="1_r1qp1"]
[ext_resource type="PackedScene" uid="uid://1w5ii35frj82" path="res://Scenes/good_counter.tscn" id="2_westi"]
[ext_resource type="Script" uid="uid://b5pu13wpn8w2b" path="res://Scripts/trades_manager.gd" id="5_80cy2"]

[node name="TradePhaseUI" type="Control" node_paths=PackedStringArray("goods_counters")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_kytco")
goods_counters = NodePath("GoodsCounters")

[node name="GoodsCounters" type="VBoxContainer" parent="." node_paths=PackedStringArray("crew_counter", "munitions_counter", "supplies_counter", "booze_counter", "cloth_counter", "spices_counter", "gold_counter", "notoriety_counter")]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.1
anchor_top = 0.1
anchor_right = 0.2
anchor_bottom = 0.9
offset_right = 40.0
offset_bottom = 40.0
alignment = 1
script = ExtResource("1_r1qp1")
crew_counter = NodePath("CrewCounter")
munitions_counter = NodePath("MunitionsCounter")
supplies_counter = NodePath("SuppliesCounter")
booze_counter = NodePath("BoozeCounter")
cloth_counter = NodePath("ClothCounter")
spices_counter = NodePath("SpicesCounter")
gold_counter = NodePath("GoldCounter")
notoriety_counter = NodePath("NotorietyCounter")

[node name="CrewCounter" parent="GoodsCounters" instance=ExtResource("2_westi")]
layout_mode = 2

[node name="MunitionsCounter" parent="GoodsCounters" instance=ExtResource("2_westi")]
layout_mode = 2

[node name="SuppliesCounter" parent="GoodsCounters" instance=ExtResource("2_westi")]
layout_mode = 2

[node name="BoozeCounter" parent="GoodsCounters" instance=ExtResource("2_westi")]
layout_mode = 2

[node name="ClothCounter" parent="GoodsCounters" instance=ExtResource("2_westi")]
layout_mode = 2

[node name="SpicesCounter" parent="GoodsCounters" instance=ExtResource("2_westi")]
layout_mode = 2

[node name="GoldCounter" parent="GoodsCounters" instance=ExtResource("2_westi")]
layout_mode = 2

[node name="NotorietyCounter" parent="GoodsCounters" instance=ExtResource("2_westi")]
layout_mode = 2

[node name="TradesManager" type="Control" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("5_80cy2")

[node name="Trade" parent="TradesManager" instance=ExtResource("1_fkhew")]
layout_mode = 1
anchor_top = 0.4
anchor_bottom = 0.6
offset_right = 74.0
offset_bottom = 58.0

[node name="Trade2" parent="TradesManager" instance=ExtResource("1_fkhew")]
visible = false
layout_mode = 1
anchor_top = 0.4
anchor_bottom = 0.6
offset_right = 74.0
offset_bottom = 58.0
result = Object(Node,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"physics_interpolation_mode":0,"auto_translate_mode":0,"editor_description":"","script":Resource("res://Scripts/goods.gd"),"crew":null,"munitions":null,"supplies":null,"booze":null,"cloth":null,"spices":null,"gold":null,"notoriety":5,"metadata/_custom_type_script":"uid://d0l3wr4fara0u")


[connection signal="next_trade" from="TradesManager/Trade" to="TradesManager" method="_on_next_trade"]
[connection signal="trade_accepted" from="TradesManager/Trade" to="." method="_on_trade_accepted"]
[connection signal="next_trade" from="TradesManager/Trade2" to="TradesManager" method="_on_next_trade"]
[connection signal="trade_accepted" from="TradesManager/Trade2" to="." method="_on_trade_accepted"]
